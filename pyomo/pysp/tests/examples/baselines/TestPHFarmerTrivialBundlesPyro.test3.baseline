*** Pyro Name Server ***
Name server listening on: ('0.0.0.0', 9090)
Broadcast server listening on: ('0.0.0.0', 9090)
URI is: PYRO://10.0.0.15:9090/0a00000f345e20a08d2ba415593e46b0e4
URI written to: /Users/ghackebeil/Projects/coopr/src/coopr.pysp/coopr/pysp/tests/examples/Pyro_NS_URI
Name Server started.
User-defined PH extension module=coopr.pysp.plugins.phhistoryextension already imported - skipping
Dispatcher is ready.
Attempting to find Pyro dispatcher object...
Dispatcher Object URI:PYRO://10.0.0.15:7766/0a00000f345f20a08d2cc698f99968cfee
This is worker Worker_13408@Ozymandias.local
Listening for work from dispatcher...
Attempting to find Pyro dispatcher object...
Dispatcher Object URI: PYRO://10.0.0.15:7766/0a00000f345f20a08d2cc698f99968cfee
This is client 13409@Ozymandias.local
Initializing PH

User-defined PH solution writer module=coopr.pysp.plugins.jsonsolutionwriter already imported - skipping
Starting PH

Initiating PH iteration=0
2014-05-28 18:06:41.445454: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpvHR5mY.tmpmdDNBX.pyomo.lp
2014-05-28 18:06:41.462229: Solve completed - number of solutions=1
2014-05-28 18:06:41.475249: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpQ7t30F.tmpMEJJb9.pyomo.lp
2014-05-28 18:06:41.491447: Solve completed - number of solutions=1
2014-05-28 18:06:41.504411: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpZyx8xc.tmpdAdsko.pyomo.lp
2014-05-28 18:06:41.521972: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.2540  First stage cost avg= 113494.4444  Max-Min=10416.67
Cumulative run-time=0.16 seconds

Initiating PH iteration=1
2014-05-28 18:06:41.539584: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpDstSet.tmpqWCj5C.pyomo.lp
2014-05-28 18:06:41.557924: Solve completed - number of solutions=1
2014-05-28 18:06:41.571572: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpp15eL6.tmpwNzULl.pyomo.lp
2014-05-28 18:06:41.591877: Solve completed - number of solutions=1
2014-05-28 18:06:41.605555: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpuv2BTl.tmpIHuBVB.pyomo.lp
2014-05-28 18:06:41.622638: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.1307  First stage cost avg= 113073.3333  Max-Min= 7180.00
Cumulative run-time=0.26 seconds

Initiating PH iteration=2
2014-05-28 18:06:41.642999: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpHAaJOx.tmpcFF3RO.pyomo.lp
2014-05-28 18:06:41.659343: Solve completed - number of solutions=1
2014-05-28 18:06:41.672598: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp6ph5Sg.tmppY3sGH.pyomo.lp
2014-05-28 18:06:41.690845: Solve completed - number of solutions=1
2014-05-28 18:06:41.704338: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp5oRw2Q.tmpQXdNUU.pyomo.lp
2014-05-28 18:06:41.721891: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0872  First stage cost avg= 113259.7778  Max-Min= 1736.67
Cumulative run-time=0.36 seconds

Initiating PH iteration=3
2014-05-28 18:06:41.743655: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpn1M3GJ.tmpxZaJWt.pyomo.lp
2014-05-28 18:06:41.761646: Solve completed - number of solutions=1
2014-05-28 18:06:41.774373: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp6e7ob2.tmpFsIn0e.pyomo.lp
2014-05-28 18:06:41.790668: Solve completed - number of solutions=1
2014-05-28 18:06:41.803516: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp2X2W2Q.tmp6GzFY6.pyomo.lp
2014-05-28 18:06:41.819864: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0793  First stage cost avg= 113339.1852  Max-Min= 1836.89
Cumulative run-time=0.45 seconds

Initiating PH iteration=4
2014-05-28 18:06:41.840472: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpvhNMVM.tmpa3UbnJ.pyomo.lp
2014-05-28 18:06:41.857091: Solve completed - number of solutions=1
2014-05-28 18:06:41.869940: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpZZaPwZ.tmpVG3L3k.pyomo.lp
2014-05-28 18:06:41.888318: Solve completed - number of solutions=1
2014-05-28 18:06:41.901409: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpaKQS8Z.tmpopvnQn.pyomo.lp
2014-05-28 18:06:41.916494: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0820  First stage cost avg= 112746.3951  Max-Min= 3745.63
Cumulative run-time=0.55 seconds

Initiating PH iteration=5
2014-05-28 18:06:41.937657: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpa9WuRW.tmpllLht1.pyomo.lp
2014-05-28 18:06:41.959418: Solve completed - number of solutions=1
2014-05-28 18:06:41.973803: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpMmAXjd.tmpPhzBPG.pyomo.lp
2014-05-28 18:06:41.992760: Solve completed - number of solutions=1
2014-05-28 18:06:42.005631: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp6yKzF8.tmpKJQIV0.pyomo.lp
2014-05-28 18:06:42.025007: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0828  First stage cost avg= 112327.9383  Max-Min= 4381.88
Cumulative run-time=0.66 seconds

Initiating PH iteration=6
2014-05-28 18:06:42.046691: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpae6fqf.tmpxpbce_.pyomo.lp
2014-05-28 18:06:42.067848: Solve completed - number of solutions=1
2014-05-28 18:06:42.082316: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpd7eT_x.tmp49s3TN.pyomo.lp
2014-05-28 18:06:42.103912: Solve completed - number of solutions=1
2014-05-28 18:06:42.117444: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp5Gy6ep.tmpjO5ykB.pyomo.lp
2014-05-28 18:06:42.139539: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0561  First stage cost avg= 112125.1852  Max-Min= 1027.56
Cumulative run-time=0.77 seconds

Initiating PH iteration=7
2014-05-28 18:06:42.161301: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpNdI9J6.tmpYFZpNh.pyomo.lp
2014-05-28 18:06:42.179875: Solve completed - number of solutions=1
2014-05-28 18:06:42.192705: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpByRz2k.tmprfOktJ.pyomo.lp
2014-05-28 18:06:42.207534: Solve completed - number of solutions=1
2014-05-28 18:06:42.220675: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpMCdz0F.tmp0sNxfD.pyomo.lp
2014-05-28 18:06:42.238547: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0625  First stage cost avg= 111694.0412  Max-Min= 2320.99
Cumulative run-time=0.87 seconds

Initiating PH iteration=8
2014-05-28 18:06:42.262293: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpVi3arq.tmp3igCiQ.pyomo.lp
2014-05-28 18:06:42.283657: Solve completed - number of solutions=1
2014-05-28 18:06:42.297269: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpwkoltO.tmpFbqNtJ.pyomo.lp
2014-05-28 18:06:42.312291: Solve completed - number of solutions=1
2014-05-28 18:06:42.325057: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpEevZan.tmpTvwAPS.pyomo.lp
2014-05-28 18:06:42.341261: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0342  First stage cost avg= 111355.5172  Max-Min= 1015.57
Cumulative run-time=0.98 seconds

Initiating PH iteration=9
2014-05-28 18:06:42.357700: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp5oTux0.tmpY8nLrK.pyomo.lp
2014-05-28 18:06:42.375333: Solve completed - number of solutions=1
2014-05-28 18:06:42.388982: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmp5cFO_e.tmp1y_I8D.pyomo.lp
2014-05-28 18:06:42.405012: Solve completed - number of solutions=1
2014-05-28 18:06:42.417761: Applying solver=cplex to solve problem=/var/folders/p5/4dj9d59x27v7_5_ddgn8r8zm0000gn/T/tmpnPeNvc.tmpgCVRbj.pyomo.lp
2014-05-28 18:06:42.433754: Solve completed - number of solutions=1
Number of discrete variables fixed=0 (total=0)
Number of continuous variables fixed=0 (total=3)
Convergence metric=      0.0000  First stage cost avg= 111355.5172  Max-Min=    0.00
Cumulative run-time=1.07 seconds
PH converged - convergence metric is below threshold=0.0001
Number of discrete variables fixed before final plugin calls=0 (total=0)
Number of continuous variables fixed before final plugin calls=0 (total=3)
PH algorithm history written to file=ph_history.json
PH complete
Convergence history:
Iteration    Metric Value
     0             0.2540
     1             0.1307
     2             0.0872
     3             0.0793
     4             0.0820
     5             0.0828
     6             0.0561
     7             0.0625
     8             0.0342
     9             0.0000

***********************************************************************************************
>>>THE EXPECTED SUM OF THE STAGE COST VARIABLES=-107958.896605<<<
>>>***CAUTION***: Assumes full (or nearly so) convergence of scenario solutions at each node in the scenario tree - computed costs are invalid otherwise<<<
***********************************************************************************************
Final number of discrete variables fixed=0 (total=0)
Final number of continuous variables fixed=0 (total=3)
Final variable values:
   Stage: FirstStage
          (Scenarios: BelowAverageScenario  AverageScenario  AboveAverageScenario  )
      Variable: DevotedAcreage
         Index:        [CORN]	Values:       88.4631     88.4631     88.4631    Max-Min:        0.0000    Avg:       88.4631
         Index: [SUGAR_BEETS]	Values:      266.1679    266.1679    266.1679    Max-Min:        0.0000    Avg:      266.1679
         Index:       [WHEAT]	Values:      145.3690    145.3690    145.3690    Max-Min:        0.0000    Avg:      145.3690
      Cost Variable: FirstStageCost
         Tree Node: RootNode      (Scenarios:  BelowAverageScenario AverageScenario AboveAverageScenario )
         Values:   111355.5172 111355.5172 111355.5172    Max-Min:        0.0000   Avg:   111355.5172
Final costs:
Scenario Tree Costs
***CAUTION***: Assumes full (or nearly so) convergence of scenario solutions at each node in the scenario tree - computed costs are invalid otherwise
----------------------------------------------------
Tree Nodes:

	Name=AboveAverageNode
	Stage=SecondStage
	Parent=RootNode
	Conditional probability=0.3333
	Children:
		None
	Scenarios:
		AboveAverageScenario
	Expected cost of (sub)tree rooted at node=-271788.5596

	Name=AverageNode
	Stage=SecondStage
	Parent=RootNode
	Conditional probability=0.3333
	Children:
		None
	Scenarios:
		AverageScenario
	Expected cost of (sub)tree rooted at node=-223231.1084

	Name=BelowAverageNode
	Stage=SecondStage
	Parent=RootNode
	Conditional probability=0.3333
	Children:
		None
	Scenarios:
		BelowAverageScenario
	Expected cost of (sub)tree rooted at node=-162923.5731

	Name=RootNode
	Stage=FirstStage
	Parent=None
	Conditional probability=1.0000
	Children:
		AboveAverageNode
		AverageNode
		BelowAverageNode
	Scenarios:
		AboveAverageScenario
		AverageScenario
		BelowAverageScenario
	Expected cost of (sub)tree rooted at node=-107958.8966

----------------------------------------------------
Scenarios:

	Name=AboveAverageScenario
	Probability=0.3333
	Leaf Node=AboveAverageNode
	Tree node sequence:
		RootNode
		AboveAverageNode
	Stage=          FirstStage     Cost=111355.5172
	Stage=         SecondStage     Cost=-271788.5596
	Total scenario cost=-160433.0424

	Name=AverageScenario
	Probability=0.3333
	Leaf Node=AverageNode
	Tree node sequence:
		RootNode
		AverageNode
	Stage=          FirstStage     Cost=111355.5172
	Stage=         SecondStage     Cost=-223231.1084
	Total scenario cost=-111875.5913

	Name=BelowAverageScenario
	Probability=0.3333
	Leaf Node=BelowAverageNode
	Tree node sequence:
		RootNode
		BelowAverageNode
	Stage=          FirstStage     Cost=111355.5172
	Stage=         SecondStage     Cost=-162923.5731
	Total scenario cost=-51568.0560

----------------------------------------------------

Total PH execution time=1.07 seconds

Scenario tree solution written to file=ph_solution.json
Shutting down Pyro solver components
Dispatcher received request to shut down - initiating...

Total execution time=4.13 seconds
Name Server gracefully stopped.
Lost connection to dispatch server - shutting down...
